<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Courseify - LoveNotes Interactive Course</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #f5f5f5;
        }

        /* ============================================
           SCREEN 1: Landing / Input
           ============================================ */
        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }

        .landing {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .landing-content {
            max-width: 600px;
            width: 100%;
            background: white;
            padding: 3rem;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: #1a1a1a;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: #666;
            margin-bottom: 2rem;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .input-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #333;
        }

        input[type="text"],
        input[type="url"],
        select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e5e5e5;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .demo-note {
            margin-top: 1.5rem;
            padding: 1rem;
            background: #f0f9ff;
            border-left: 4px solid #667eea;
            border-radius: 4px;
            font-size: 0.9rem;
            color: #333;
        }

        /* ============================================
           SCREEN 2: Generating / Loading
           ============================================ */
        .generating {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .generating-content {
            text-align: center;
            max-width: 500px;
            background: white;
            padding: 3rem;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 2rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .status-text {
            color: #666;
            margin-top: 1rem;
            font-size: 0.95rem;
        }

        /* ============================================
           SCREEN 3: Course View
           ============================================ */
        .course-view {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar Navigation */
        .sidebar {
            width: 320px;
            background: white;
            border-right: 1px solid #e5e5e5;
            overflow-y: auto;
            position: sticky;
            top: 0;
            height: 100vh;
        }

        .sidebar-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e5e5e5;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .course-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .repo-name {
            font-size: 0.85rem;
            opacity: 0.9;
            font-family: 'Courier New', monospace;
        }

        .modules-list {
            list-style: none;
            padding: 0.5rem 0;
        }

        .module-item {
            border-bottom: 1px solid #f0f0f0;
        }

        .module-header {
            padding: 1rem 1.5rem;
            font-weight: 600;
            color: #333;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.2s;
        }

        .module-header:hover {
            background: #f9f9f9;
        }

        .module-chevron {
            transition: transform 0.2s;
        }

        .module-item.collapsed .module-chevron {
            transform: rotate(-90deg);
        }

        .module-item.collapsed .lessons-list {
            display: none;
        }

        .module-time {
            font-size: 0.75rem;
            color: #999;
            font-weight: 400;
            margin-left: 0.5rem;
        }

        .lessons-list {
            list-style: none;
            background: #fafafa;
        }

        .lesson-item {
            padding: 0.75rem 1.5rem 0.75rem 2.5rem;
            color: #666;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }

        .lesson-item:hover {
            background: #f0f0f0;
            color: #333;
        }

        .lesson-item.active {
            background: #EEF2FF;
            color: #667eea;
            font-weight: 600;
            border-left-color: #667eea;
        }

        /* Main Content Area */
        .main-content {
            flex: 1;
            overflow-y: auto;
        }

        .top-bar {
            padding: 1rem 2rem;
            background: white;
            border-bottom: 1px solid #e5e5e5;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .progress-info {
            font-size: 0.9rem;
            color: #666;
        }

        .progress-bar {
            width: 200px;
            height: 6px;
            background: #e5e5e5;
            border-radius: 3px;
            overflow: hidden;
            margin-left: 1rem;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s;
        }

        .new-course-btn {
            padding: 0.5rem 1rem;
            background: white;
            border: 2px solid #667eea;
            color: #667eea;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.2s;
        }

        .new-course-btn:hover {
            background: #667eea;
            color: white;
        }

        .content-container {
            padding: 2rem 3rem;
            max-width: 900px;
            margin: 0 auto;
        }

        .lesson-header {
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #e5e5e5;
        }

        .lesson-number {
            color: #667eea;
            font-size: 0.85rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .lesson-title {
            font-size: 2.5rem;
            color: #1a1a1a;
            margin-top: 0.5rem;
            line-height: 1.2;
        }

        .lesson-meta {
            margin-top: 1rem;
            display: flex;
            gap: 2rem;
            font-size: 0.9rem;
            color: #666;
        }

        .lesson-content {
            line-height: 1.8;
            color: #333;
            font-size: 1.05rem;
        }

        .lesson-content h2 {
            margin: 2.5rem 0 1rem;
            color: #1a1a1a;
            font-size: 1.8rem;
        }

        .lesson-content h3 {
            margin: 2rem 0 0.75rem;
            color: #333;
            font-size: 1.3rem;
        }

        .lesson-content h4 {
            margin: 1.5rem 0 0.5rem;
            color: #444;
            font-size: 1.1rem;
        }

        .lesson-content p {
            margin-bottom: 1.2rem;
        }

        .lesson-content ul, .lesson-content ol {
            margin: 1rem 0 1.5rem 1.5rem;
        }

        .lesson-content li {
            margin-bottom: 0.5rem;
        }

        .lesson-content pre {
            background: #1a1a1a;
            color: #f0f0f0;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1.5rem 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .lesson-content code {
            background: #f5f5f5;
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #e83e8c;
        }

        .lesson-content pre code {
            background: none;
            padding: 0;
            color: #f0f0f0;
        }

        .lesson-content blockquote {
            border-left: 4px solid #667eea;
            padding-left: 1.5rem;
            margin: 1.5rem 0;
            color: #555;
            font-style: italic;
        }

        /* Navigation Buttons */
        .lesson-nav {
            margin-top: 4rem;
            padding-top: 2rem;
            border-top: 1px solid #e5e5e5;
            display: flex;
            justify-content: space-between;
        }

        .nav-btn {
            padding: 0.75rem 1.5rem;
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }

        .nav-btn:hover:not(:disabled) {
            background: #f9f9f9;
            border-color: #667eea;
            color: #667eea;
        }

        .nav-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .nav-btn.primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: transparent;
        }

        .nav-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                position: fixed;
                left: -320px;
                transition: left 0.3s;
                z-index: 100;
            }

            .sidebar.mobile-open {
                left: 0;
            }

            .content-container {
                padding: 1.5rem;
            }

            .lesson-title {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>

    <!-- ============================================
         SCREEN 1: Landing / Input
         ============================================ -->
    <div class="screen active" id="landing-screen">
        <div class="landing">
            <div class="landing-content">
                <h1>üìö Courseify</h1>
                <p class="subtitle">Transform any Git repository into an interactive learning course powered by AI</p>

                <div class="input-group">
                    <label for="repo-url">Git Repository URL</label>
                    <input
                        type="url"
                        id="repo-url"
                        placeholder="https://github.com/username/repo"
                        value="https://github.com/ckelimarks/ease-empathy-flow"
                    >
                </div>

                <div class="input-group">
                    <label for="llm-provider">AI Model</label>
                    <select id="llm-provider">
                        <option value="claude">Claude Sonnet (recommended)</option>
                        <option value="openai">GPT-4</option>
                        <option value="gemini">Gemini Pro</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="focus-area">Focus Area (optional)</label>
                    <input
                        type="text"
                        id="focus-area"
                        placeholder="e.g., React patterns, Supabase integration, SMS workflows"
                    >
                </div>

                <button class="btn" onclick="generateCourse()">Generate Interactive Course</button>

                <div class="demo-note">
                    <strong>‚ú® Demo Mode:</strong> This prototype uses the LoveNotes codebase as an example.
                    The course content is pre-generated to show what's possible.
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================
         SCREEN 2: Generating / Loading
         ============================================ -->
    <div class="screen" id="generating-screen">
        <div class="generating">
            <div class="generating-content">
                <div class="spinner"></div>
                <h2>Analyzing Repository...</h2>
                <p class="status-text" id="status-text">
                    Cloning repository and analyzing structure
                </p>
            </div>
        </div>
    </div>

    <!-- ============================================
         SCREEN 3: Course View
         ============================================ -->
    <div class="screen" id="course-screen">
        <div class="course-view">
            <!-- Sidebar Navigation -->
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <div class="course-title">LoveNotes Deep Dive</div>
                    <div class="repo-name">github.com/ckelimarks/ease-empathy-flow</div>
                </div>

                <ul class="modules-list" id="modules-list">
                    <!-- Dynamically populated -->
                </ul>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <div class="top-bar">
                    <div style="display: flex; align-items: center;">
                        <div class="progress-info" id="progress-info">Module 0 ‚Ä¢ Getting Started</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                        </div>
                    </div>
                    <button class="new-course-btn" onclick="newCourse()">+ New Course</button>
                </div>

                <div class="content-container">
                    <div class="lesson-header" id="lesson-header">
                        <!-- Dynamically populated -->
                    </div>

                    <div class="lesson-content" id="lesson-content">
                        <!-- Dynamically populated -->
                    </div>

                    <div class="lesson-nav">
                        <button class="nav-btn" id="prev-btn" onclick="previousLesson()">‚Üê Previous</button>
                        <button class="nav-btn primary" id="next-btn" onclick="nextLesson()">Next Lesson ‚Üí</button>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        // Course data structure
        const courseData = {
            modules: [
                {
                    id: 0,
                    title: "Getting Started",
                    time: "45 min",
                    lessons: [
                        { id: "0-1", title: "Setup & Installation", file: "lovenotes-course-module-0.md" }
                    ]
                },
                {
                    id: 1,
                    title: "Project Overview",
                    time: "60 min",
                    lessons: [
                        { id: "1-1", title: "What is LoveNotes?", file: "lovenotes-course-module-1.md" }
                    ]
                },
                {
                    id: 2,
                    title: "React Fundamentals",
                    time: "75 min",
                    lessons: [
                        { id: "2-1", title: "Components in Practice", file: "lovenotes-course-module-2.md" }
                    ]
                }
            ]
        };

        let currentModuleIndex = 0;
        let currentLessonIndex = 0;

        // Mock markdown content (in production, this would fetch from generated files)
        const mockContent = {
            "lovenotes-course-module-0.md": `# Module 0: Getting Started with LoveNotes

**Estimated time**: 45 minutes
**Prerequisites**: None - complete beginner friendly
**What you'll build/learn**: Set up your local development environment, run the LoveNotes app, and explore the codebase

## Overview

Welcome to the LoveNotes interactive course! In this module, you'll set up everything you need to explore a real-world production application.

**What is LoveNotes?** An SMS-based relationship app that sends daily appreciation prompts to couples via text message.

## Try It Yourself

### Setup Instructions

**Step 1: Install Required Tools**

\`\`\`bash
node --version
\`\`\`

If you see a version number (like v18.17.0), you're good! If not, install Node.js from [nodejs.org](https://nodejs.org)

**Step 2: Clone the Repository**

\`\`\`bash
git clone https://github.com/ckelimarks/ease-empathy-flow
cd ease-empathy-flow/app
npm install
npm run dev
\`\`\`

## Key Takeaways

- ‚úÖ Development environment is your safe workshop for experiments
- ‚úÖ Frontend (React) runs in browser, backend (Supabase) runs on servers
- ‚úÖ Hot Module Replacement (HMR) shows changes instantly
- ‚úÖ Always work on branches to keep your experiments safe`,

            "lovenotes-course-module-1.md": `# Module 1: Project Overview - What is LoveNotes?

**Estimated time**: 60 minutes
**Prerequisites**: Module 0 (Development environment setup)
**What you'll build/learn**: Understand the complete user journey, system architecture, and how data flows through LoveNotes

## Overview

Now that you can run the app locally, let's step back and understand what LoveNotes actually does.

## The User Journey

### Step 1: Signup
- User creates account
- Enters partner info
- Sets daily prompt time

### Step 2: Daily Prompts
- Couple receives SMS prompts
- Partners respond via text
- Responses stored in database

### Step 3: Weekly LoveLetter
- AI compiles responses
- Formats as "LoveLetter"
- Sent via SMS

## System Architecture

\`\`\`
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Browser   ‚îÇ (React Frontend)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Supabase   ‚îÇ (Backend)
‚îÇ  - Database ‚îÇ
‚îÇ  - Auth     ‚îÇ
‚îÇ  - Functions‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Twilio    ‚îÇ (SMS Service)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
\`\`\`

## Key Concepts

### State Machine
LoveNotes tracks each couple's progress through three states:
1. **idle** - Ready for next prompt
2. **prime_sent** - Prime sent, waiting 24h
3. **main_sent** - Main sent, waiting 24h

### Database Schema
- \`profiles\` - User accounts
- \`couples\` - Relationship data
- \`phone_subscriptions\` - SMS state
- \`prompts\` - Question curriculum
- \`prompt_responses\` - User answers`,

            "lovenotes-course-module-2.md": `# Module 2: React Fundamentals in Practice

**Estimated time**: 75 minutes
**Prerequisites**: Module 0, Module 1
**What you'll build/learn**: Understand React components, props, JSX, and how they work in LoveNotes

## Overview

Let's dive into React by exploring actual LoveNotes components. You'll learn by reading real production code.

## What Are Components?

Think of components like LEGO blocks. Each block is reusable and does one thing well.

\`\`\`jsx
// Simple Button Component
export const Button = ({ children, onClick, variant = "default" }) => {
  return (
    <button
      className={\`btn btn-\${variant}\`}
      onClick={onClick}
    >
      {children}
    </button>
  );
};
\`\`\`

## Real Example: Login Button

**File**: \`src/pages/Login.tsx:45\`

\`\`\`jsx
<Button
  variant="primary"
  onClick={() => handleLogin()}
>
  Sign In
</Button>
\`\`\`

## Try It Yourself

### Exercise 1: Find the Button Component

1. Open VS Code
2. Press Cmd+Shift+F (Mac) or Ctrl+Shift+F (Windows)
3. Search for: "Get Started"
4. Find the Button component

### Exercise 2: Add Console Log

Add this inside the click handler:

\`\`\`javascript
console.log("Button clicked!");
\`\`\`

Save and click the button in your browser. Open DevTools to see the log!

## Key Takeaways

- ‚úÖ Components are reusable UI building blocks
- ‚úÖ Props pass data to components
- ‚úÖ JSX looks like HTML but it's JavaScript
- ‚úÖ console.log() is your debugging friend`
        };

        // Initialize course view
        function initializeCourse() {
            renderModulesList();
            loadLesson(0, 0);
        }

        // Render sidebar modules
        function renderModulesList() {
            const modulesList = document.getElementById('modules-list');
            modulesList.innerHTML = '';

            courseData.modules.forEach((module, moduleIndex) => {
                const moduleItem = document.createElement('li');
                moduleItem.className = 'module-item';
                if (moduleIndex !== 0) moduleItem.classList.add('collapsed');

                const moduleHeader = document.createElement('div');
                moduleHeader.className = 'module-header';
                moduleHeader.innerHTML = `
                    <span>
                        <strong>Module ${module.id}:</strong> ${module.title}
                        <span class="module-time">${module.time}</span>
                    </span>
                    <span class="module-chevron">‚ñº</span>
                `;
                moduleHeader.onclick = () => toggleModule(moduleIndex);

                const lessonsList = document.createElement('ul');
                lessonsList.className = 'lessons-list';

                module.lessons.forEach((lesson, lessonIndex) => {
                    const lessonItem = document.createElement('li');
                    lessonItem.className = 'lesson-item';
                    if (moduleIndex === 0 && lessonIndex === 0) {
                        lessonItem.classList.add('active');
                    }
                    lessonItem.textContent = lesson.title;
                    lessonItem.onclick = () => loadLesson(moduleIndex, lessonIndex);
                    lessonsList.appendChild(lessonItem);
                });

                moduleItem.appendChild(moduleHeader);
                moduleItem.appendChild(lessonsList);
                modulesList.appendChild(moduleItem);
            });
        }

        // Toggle module collapse
        function toggleModule(moduleIndex) {
            const moduleItems = document.querySelectorAll('.module-item');
            moduleItems[moduleIndex].classList.toggle('collapsed');
        }

        // Load lesson content
        function loadLesson(moduleIndex, lessonIndex) {
            currentModuleIndex = moduleIndex;
            currentLessonIndex = lessonIndex;

            const module = courseData.modules[moduleIndex];
            const lesson = module.lessons[lessonIndex];

            // Update active state in sidebar
            document.querySelectorAll('.lesson-item').forEach(item => {
                item.classList.remove('active');
            });
            const lessonItems = document.querySelectorAll('.lesson-item');
            let lessonCount = 0;
            for (let i = 0; i <= moduleIndex; i++) {
                if (i < moduleIndex) {
                    lessonCount += courseData.modules[i].lessons.length;
                } else {
                    lessonCount += lessonIndex;
                }
            }
            lessonItems[moduleIndex * 1 + lessonIndex].classList.add('active');

            // Update progress
            const totalLessons = courseData.modules.reduce((sum, m) => sum + m.lessons.length, 0);
            const completedLessons = lessonCount + 1;
            const progressPercent = (completedLessons / totalLessons) * 100;
            document.getElementById('progress-fill').style.width = `${progressPercent}%`;
            document.getElementById('progress-info').textContent =
                `Module ${module.id}: ${module.title}`;

            // Update lesson header
            document.getElementById('lesson-header').innerHTML = `
                <div class="lesson-number">Module ${module.id} ‚Ä¢ Lesson ${lessonIndex + 1}</div>
                <h1 class="lesson-title">${lesson.title}</h1>
                <div class="lesson-meta">
                    <span>‚è±Ô∏è ${module.time}</span>
                    <span>üìö ${lesson.title}</span>
                </div>
            `;

            // Load and render markdown content
            const markdownContent = mockContent[lesson.file] || `# ${lesson.title}\n\nContent loading...`;
            document.getElementById('lesson-content').innerHTML = marked.parse(markdownContent);

            // Update navigation buttons
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');

            prevBtn.disabled = (moduleIndex === 0 && lessonIndex === 0);

            const isLastModule = moduleIndex === courseData.modules.length - 1;
            const isLastLesson = lessonIndex === module.lessons.length - 1;
            nextBtn.disabled = isLastModule && isLastLesson;

            // Scroll to top
            document.querySelector('.main-content').scrollTop = 0;
        }

        // Navigation functions
        function nextLesson() {
            const currentModule = courseData.modules[currentModuleIndex];
            if (currentLessonIndex < currentModule.lessons.length - 1) {
                loadLesson(currentModuleIndex, currentLessonIndex + 1);
            } else if (currentModuleIndex < courseData.modules.length - 1) {
                loadLesson(currentModuleIndex + 1, 0);
            }
        }

        function previousLesson() {
            if (currentLessonIndex > 0) {
                loadLesson(currentModuleIndex, currentLessonIndex - 1);
            } else if (currentModuleIndex > 0) {
                const prevModule = courseData.modules[currentModuleIndex - 1];
                loadLesson(currentModuleIndex - 1, prevModule.lessons.length - 1);
            }
        }

        // Screen transitions
        function generateCourse() {
            document.getElementById('landing-screen').classList.remove('active');
            document.getElementById('generating-screen').classList.add('active');

            const steps = [
                'Cloning repository and analyzing structure',
                'Identifying technologies and patterns',
                'Generating course modules with AI',
                'Creating interactive exercises',
                'Finalizing course structure'
            ];

            let currentStep = 0;
            const interval = setInterval(() => {
                currentStep++;
                if (currentStep < steps.length) {
                    document.getElementById('status-text').textContent = steps[currentStep];
                } else {
                    clearInterval(interval);
                    setTimeout(() => {
                        document.getElementById('generating-screen').classList.remove('active');
                        document.getElementById('course-screen').classList.add('active');
                        initializeCourse();
                    }, 500);
                }
            }, 1200);
        }

        function newCourse() {
            document.getElementById('course-screen').classList.remove('active');
            document.getElementById('landing-screen').classList.add('active');
        }
    </script>

</body>
</html>
